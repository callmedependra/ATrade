define("dijit/form/NumberTextBox",["dojo","dijit","dijit/form/ValidationTextBox","dojo/number"],function(a,b){a.declare("dijit.form.NumberTextBoxMixin",null,{regExpGen:a.number.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:a.number.format,_setConstraintsAttr:function(d){var c=typeof d.places=="number"?d.places:0;if(c){c++;}if(typeof d.max!="number"){d.max=9*Math.pow(10,15-c);}if(typeof d.min!="number"){d.min=-9*Math.pow(10,15-c);}this.inherited(arguments,[d]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled){return;}var d=this.get("value");if(typeof d=="number"&&!isNaN(d)){var c=this.format(d,this.constraints);if(c!==undefined){this.textbox.value=c;}}this.inherited(arguments);},format:function(d,e){var c=String(d);if(typeof d!="number"){return c;}if(isNaN(d)){return"";}if(!("rangeCheck" in this&&this.rangeCheck(d,e))&&e.exponent!==false&&/\de[-+]?\d/i.test(c)){return c;}if(this.editOptions&&this._focused){e=a.mixin({},e,this.editOptions);}return this._formatter(d,e);},_parser:a.number.parse,parse:function(d,e){var c=this._parser(d,a.mixin({},e,(this.editOptions&&this._focused)?this.editOptions:{}));if(this.editOptions&&this._focused&&isNaN(c)){c=this._parser(d,e);}return c;},_getDisplayedValueAttr:function(){var c=this.inherited(arguments);return isNaN(c)?this.textbox.value:c;},filter:function(c){return(c===null||c===""||c===undefined)?NaN:this.inherited(arguments);},serialize:function(d,c){return(typeof d!="number"||isNaN(d))?"":this.inherited(arguments);},_setBlurValue:function(){var c=a.hitch(a.mixin({},this,{_focused:true}),"get")("value");this._setValueAttr(c,true);},_setValueAttr:function(e,d,c){if(e!==undefined&&c===undefined){c=String(e);if(typeof e=="number"){if(isNaN(e)){c="";}else{if(("rangeCheck" in this&&this.rangeCheck(e,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(c)){c=undefined;}}}else{if(!e){c="";e=NaN;}else{e=undefined;}}}this.inherited(arguments,[e,d,c]);},_getValueAttr:function(){var c=this.inherited(arguments);if(isNaN(c)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+a.number._realNumberRegexp(a.mixin({},this.constraints))+"$").test(this.textbox.value))){var d=Number(this.textbox.value);return isNaN(d)?undefined:d;}else{return undefined;}}else{return c;}},isValid:function(c){if(!this._focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var d=this.get("value");if(!isNaN(d)&&this.rangeCheck(d,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});a.declare("dijit.form.NumberTextBox",[b.form.RangeBoundTextBox,b.form.NumberTextBoxMixin],{baseClass:"dijitTextBox dijitNumberTextBox"});return b.form.NumberTextBox;});