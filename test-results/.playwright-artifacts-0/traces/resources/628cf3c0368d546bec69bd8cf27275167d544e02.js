define("dijit/form/MultiSelect",["dojo","dijit","dijit/form/_FormWidget"],function(a,b){a.declare("dijit.form.MultiSelect",b.form._FormValueWidget,{size:7,templateString:"<select multiple='true' ${!nameAttrSetting} dojoAttachPoint='containerNode,focusNode' dojoAttachEvent='onchange: _onChange'></select>",attributeMap:a.delegate(b.form._FormWidget.prototype.attributeMap,{size:"focusNode"}),reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},addSelected:function(c){c.getSelected().forEach(function(e){this.containerNode.appendChild(e);this.domNode.scrollTop=this.domNode.offsetHeight;var d=c.domNode.scrollTop;c.domNode.scrollTop=0;c.domNode.scrollTop=d;},this);},getSelected:function(){return a.query("option",this.containerNode).filter(function(c){return c.selected;});},_getValueAttr:function(){return this.getSelected().map(function(c){return c.value;});},multiple:true,_setValueAttr:function(c){a.query("option",this.containerNode).forEach(function(d){d.selected=(a.indexOf(c,d.value)!=-1);});},invertSelection:function(c){a.query("option",this.containerNode).forEach(function(d){d.selected=!d.selected;});this._handleOnChange(this.get("value"),c==true);},_onChange:function(c){this._handleOnChange(this.get("value"),true);},resize:function(c){if(c){a.marginBox(this.domNode,c);}},postCreate:function(){this._onChange();}});return b.form.MultiSelect;});