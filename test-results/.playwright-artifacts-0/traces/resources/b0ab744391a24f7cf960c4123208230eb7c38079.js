define("dijit/_editor/html",["dojo","dijit"],function(a,b){a.getObject("_editor",true,b);b._editor.escapeXml=function(c,d){c=c.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!d){c=c.replace(/'/gm,"&#39;");}return c;};b._editor.getNodeHtml=function(h){var g;switch(h.nodeType){case 1:var c=h.nodeName.toLowerCase();if(!c||c.charAt(0)=="/"){return"";}g="<"+c;var r=[];var q;if(a.isIE&&h.outerHTML){var w=h.outerHTML;w=w.substr(0,w.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var d=/(\b\w+)\s?=/g;var k,u;while((k=d.exec(w))){u=k[1];if(u.substr(0,3)!="_dj"){if(u=="src"||u=="href"){if(h.getAttribute("_djrealurl")){r.push([u,h.getAttribute("_djrealurl")]);continue;}}var f,p;switch(u){case"style":f=h.style.cssText.toLowerCase();break;case"class":f=h.className;break;case"width":if(c==="img"){p=/width=(\S+)/i.exec(w);if(p){f=p[1];}break;}case"height":if(c==="img"){p=/height=(\S+)/i.exec(w);if(p){f=p[1];}break;}default:f=h.getAttribute(u);}if(f!=null){r.push([u,f.toString()]);}}}}else{var o=0;while((q=h.attributes[o++])){var e=q.name;if(e.substr(0,3)!="_dj"){var t=q.value;if(e=="src"||e=="href"){if(h.getAttribute("_djrealurl")){t=h.getAttribute("_djrealurl");}}r.push([e,t]);}}}r.sort(function(j,i){return j[0]<i[0]?-1:(j[0]==i[0]?0:1);});var l=0;while((q=r[l++])){g+=" "+q[0]+'="'+(a.isString(q[1])?b._editor.escapeXml(q[1],true):q[1])+'"';}if(c==="script"){g+=">"+h.innerHTML+"</"+c+">";}else{if(h.childNodes.length){g+=">"+b._editor.getChildrenHtml(h)+"</"+c+">";}else{switch(c){case"br":case"hr":case"img":case"input":case"base":case"meta":case"area":case"basefont":g+=" />";break;default:g+="></"+c+">";}}}break;case 4:case 3:g=b._editor.escapeXml(h.nodeValue,true);break;case 8:g="<!--"+b._editor.escapeXml(h.nodeValue,true)+"-->";break;default:g="<!-- Element not recognized - Type: "+h.nodeType+" Name: "+h.nodeName+"-->";}return g;};b._editor.getChildrenHtml=function(h){var d="";if(!h){return d;}var c=h.childNodes||h;var g=!a.isIE||c!==h;var f,e=0;while((f=c[e++])){if(!g||f.parentNode==h){d+=b._editor.getNodeHtml(f);}}return d;};return b._editor;});