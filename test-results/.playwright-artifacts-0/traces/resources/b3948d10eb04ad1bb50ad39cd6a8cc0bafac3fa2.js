define("dojo/_base/declare",["dojo/lib/kernel","dojo/_base/lang","dojo/_base/array"],function(a){(function(){var u=a,m=u._mixin,h=Object.prototype,o=h.toString,i=new Function,k=0,b="constructor";function e(x,d){throw new Error("declare"+(d?" "+d:"")+": "+x);}function j(d,H){var L=[],K=[{cls:0,refs:[]}],G={},E=1,A=d.length,D=0,C,z,y,J,F,B,x,I;for(;D<A;++D){y=d[D];if(!y){e("mixin #"+D+" is unknown. Did you use dojo.require to pull it in?",H);}else{if(o.call(y)!="[object Function]"){e("mixin #"+D+" is not a callable constructor.",H);}}z=y._meta?y._meta.bases:[y];J=0;for(C=z.length-1;C>=0;--C){F=z[C].prototype;if(!F.hasOwnProperty("declaredClass")){F.declaredClass="uniqName_"+(k++);}x=F.declaredClass;if(!G.hasOwnProperty(x)){G[x]={count:0,refs:[],cls:z[C]};++E;}B=G[x];if(J&&J!==B){B.refs.push(J);++J.count;}J=B;}++J.count;K[0].refs.push(J);}while(K.length){J=K.pop();L.push(J.cls);--E;while(I=J.refs,I.length==1){J=I[0];if(!J||--J.count){J=0;break;}L.push(J.cls);--E;}if(J){for(D=0,A=I.length;D<A;++D){J=I[D];if(!--J.count){K.push(J);}}}}if(E){e("can't build consistent linearization",H);}y=d[0];L[0]=y?y._meta&&y===L[L.length-y._meta.bases.length]?y._meta.bases.length:1:0;return L;}function w(E,H,C){var y,D,x,A,I,z,B,G,F,d=this._inherited=this._inherited||{};if(typeof E=="string"){y=E;E=H;H=C;}C=0;A=E.callee;y=y||A.nom;if(!y){e("can't deduce a name to call inherited()",this.declaredClass);}I=this.constructor._meta;x=I.bases;F=d.p;if(y!=b){if(d.c!==A){F=0;z=x[0];I=z._meta;if(I.hidden[y]!==A){D=I.chains;if(D&&typeof D[y]=="string"){e("calling chained method with inherited: "+y,this.declaredClass);}do{I=z._meta;B=z.prototype;if(I&&(B[y]===A&&B.hasOwnProperty(y)||I.hidden[y]===A)){break;}}while(z=x[++F]);F=z?F:-1;}}z=x[++F];if(z){B=z.prototype;if(z._meta&&B.hasOwnProperty(y)){C=B[y];}else{G=h[y];do{B=z.prototype;C=B[y];if(C&&(z._meta?B.hasOwnProperty(y):C!==G)){break;}}while(z=x[++F]);}}C=z&&C||h[y];}else{if(d.c!==A){F=0;I=x[0]._meta;if(I&&I.ctor!==A){D=I.chains;if(!D||D.constructor!=="manual"){e("calling chained constructor with inherited",this.declaredClass);}while(z=x[++F]){I=z._meta;if(I&&I.ctor===A){break;}}F=z?F:-1;}}while(z=x[++F]){I=z._meta;C=I?I.ctor:z;if(C){break;}}C=z&&C;}d.c=C;d.p=F;if(C){return H===true?C:C.apply(this,H||E);}}function c(x,d){if(typeof x=="string"){return this.inherited(x,d,true);}return this.inherited(x,true);}function f(y){var d=this.constructor._meta.bases;for(var z=0,x=d.length;z<x;++z){if(d[z]===y){return true;}}return this instanceof y;}function v(A,z){var x,y=0,d=u._extraNames.length;for(x in z){if(x!=b&&z.hasOwnProperty(x)){A[x]=z[x];}}for(;y<d;++y){x=u._extraNames[y];if(x!=b&&z.hasOwnProperty(x)){A[x]=z[x];}}}function l(B,A){var x,z,y=0,d=u._extraNames.length;for(x in A){z=A[x];if((z!==h[x]||!(x in h))&&x!=b){if(o.call(z)=="[object Function]"){z.nom=x;}B[x]=z;}}for(;y<d;++y){x=u._extraNames[y];z=A[x];if((z!==h[x]||!(x in h))&&x!=b){if(o.call(z)=="[object Function]"){z.nom=x;}B[x]=z;}}return B;}function t(d){l(this.prototype,d);return this;}function n(d,x){return function(){var A=arguments,C=A,B=A[0],F,D,y,z=d.length,E;if(!(this instanceof A.callee)){return p(A);}if(x&&(B&&B.preamble||this.preamble)){E=new Array(d.length);E[0]=A;for(D=0;;){B=A[0];if(B){F=B.preamble;if(F){A=F.apply(this,A)||A;}}F=d[D].prototype;F=F.hasOwnProperty("preamble")&&F.preamble;if(F){A=F.apply(this,A)||A;}if(++D==z){break;}E[D]=A;}}for(D=z-1;D>=0;--D){F=d[D];y=F._meta;F=y?y.ctor:F;if(F){F.apply(this,E?E[D]:A);}}F=this.postscript;if(F){F.apply(this,C);}};}function s(d,x){return function(){var y=arguments,A=y,z=y[0],B;if(!(this instanceof y.callee)){return p(y);}if(x){if(z){B=z.preamble;if(B){A=B.apply(this,A)||A;}}B=this.preamble;if(B){B.apply(this,A);}}if(d){d.apply(this,y);}B=this.postscript;if(B){B.apply(this,y);}};}function r(d){return function(){var y=arguments,z=0,A,x;if(!(this instanceof y.callee)){return p(y);}for(;A=d[z];++z){x=A._meta;A=x?x.ctor:A;if(A){A.apply(this,y);break;}}A=this.postscript;if(A){A.apply(this,y);}};}function q(x,d,y){return function(){var A,z,D,B=0,C=1;if(y){B=d.length-1;C=-1;}for(;A=d[B];B+=C){z=A._meta;D=(z?z.hidden:A.prototype)[x];if(D){D.apply(this,arguments);}}};}function g(x){i.prototype=x.prototype;var d=new i;i.prototype=null;return d;}function p(d){var y=d.callee,x=g(y);y.apply(x,d);return x;}u.declare=function(C,G,D){if(typeof C!="string"){D=G;G=C;C="";}D=D||{};var z,y,H,F,x,d,B,A=1,E=G;if(o.call(G)=="[object Array]"){d=j(G,C);H=d[0];A=d.length-H;G=d[A];}else{d=[0];if(G){if(o.call(G)=="[object Function]"){H=G._meta;d=d.concat(H?H.bases:G);}else{e("base class is not a callable constructor.",C);}}else{if(G!==null){e("unknown base class. Did you use dojo.require to pull it in?",C);}}}if(G){for(y=A-1;;--y){z=g(G);if(!y){break;}H=d[y];(H._meta?v:m)(z,H.prototype);F=new Function;F.superclass=G;F.prototype=z;G=z.constructor=F;}}else{z={};}l(z,D);H=D.constructor;if(H!==h.constructor){H.nom=b;z.constructor=H;}for(y=A-1;y;--y){H=d[y]._meta;if(H&&H.chains){B=m(B||{},H.chains);}}if(z["-chains-"]){B=m(B||{},z["-chains-"]);}H=!B||!B.hasOwnProperty(b);d[0]=F=(B&&B.constructor==="manual")?r(d):(d.length==1?s(D.constructor,H):n(d,H));F._meta={bases:d,hidden:D,chains:B,parents:E,ctor:D.constructor};F.superclass=G&&G.prototype;F.extend=t;F.prototype=z;z.constructor=F;z.getInherited=c;z.inherited=w;z.isInstanceOf=f;if(C){z.declaredClass=C;u.setObject(C,F);}if(B){for(x in B){if(z[x]&&typeof B[x]=="string"&&x!=b){H=z[x]=q(x,d,B[x]==="after");H.nom=x;}}}return F;};u.safeMixin=l;})();return a.declare;});