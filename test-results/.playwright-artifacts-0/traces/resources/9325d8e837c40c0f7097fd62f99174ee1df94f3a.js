define("dojo/data/util/simpleFetch",["dojo","dojo/data/util/sorter"],function(a){a.getObject("data.util.simpleFetch",true,a);a.data.util.simpleFetch.fetch=function(e){e=e||{};if(!e.store){e.store=this;}var c=this;var d=function(h,f){if(f.onError){var g=f.scope||a.global;f.onError.call(g,h,f);}};var b=function(k,l){var o=l.abort||null;var f=false;var m=l.start?l.start:0;var j=(l.count&&(l.count!==Infinity))?(m+l.count):k.length;l.abort=function(){f=true;if(o){o.call(l);}};var p=l.scope||a.global;if(!l.store){l.store=c;}if(l.onBegin){l.onBegin.call(p,k.length,l);}if(l.sort){k.sort(a.data.util.sorter.createSortFunction(l.sort,c));}if(l.onItem){for(var h=m;(h<k.length)&&(h<j);++h){var n=k[h];if(!f){l.onItem.call(p,n,l);}}}if(l.onComplete&&!f){var g=null;if(!l.onItem){g=k.slice(m,j);}l.onComplete.call(p,g,l);}};this._fetchItems(e,b,d);return e;};return a.data.util.simpleFetch;});