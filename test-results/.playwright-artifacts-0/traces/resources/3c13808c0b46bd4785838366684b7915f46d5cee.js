define("dijit/form/_FormWidget",["dojo","dijit","dojo/window","dijit/_Widget","dijit/_Templated","dijit/_CssStateMixin"],function(a,b){a.declare("dijit.form._FormWidget",[b._Widget,b._Templated,b._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:a.delegate(b._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?('name="'+this.name.replace(/'/g,"&quot;")+'"'):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(d){this._set("disabled",d);a.attr(this.focusNode,"disabled",d);if(this.valueNode){a.attr(this.valueNode,"disabled",d);}b.setWaiState(this.focusNode,"disabled",d);if(d){this._set("hovering",false);this._set("active",false);var c="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";a.forEach(a.isArray(c)?c:[c],function(e){var f=this[e];if(a.isWebKit||b.hasDefaultTabStop(f)){f.setAttribute("tabIndex","-1");}else{f.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.focusNode.setAttribute("tabIndex",this.tabIndex);}}},setDisabled:function(c){a.deprecated("setDisabled("+c+") is deprecated. Use set('disabled',"+c+") instead.","","2.0");this.set("disabled",c);},_onFocus:function(c){if(this.scrollOnFocus){a.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(a.style(this.domNode,"display")!="none");},focus:function(){if(!this.disabled){b.focus(this.focusNode);}},compare:function(d,c){if(typeof d=="number"&&typeof c=="number"){return(isNaN(d)&&isNaN(c))?0:d-c;}else{if(d>c){return 1;}else{if(d<c){return -1;}else{return 0;}}}},onChange:function(c){},_onChangeActive:false,_handleOnChange:function(d,c){if(this._lastValueReported==undefined&&(c===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=d;}this._pendingOnChange=this._pendingOnChange||(typeof d!=typeof this._lastValueReported)||(this.compare(d,this._lastValueReported)!=0);if((this.intermediateChanges||c||c===undefined)&&this._pendingOnChange){this._lastValueReported=d;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(a.hitch(this,function(){this._onChangeHandle=null;this.onChange(d);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(c){a.deprecated("dijit.form._FormWidget:setValue("+c+") is deprecated.  Use set('value',"+c+") instead.","","2.0");this.set("value",c);},getValue:function(){a.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function(d){if(!d.ctrlKey&&a.mouseButtons.isLeft(d)&&this.isFocusable()){var c=this.connect(a.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(c);});}}});a.declare("dijit.form._FormValueWidget",b.form._FormWidget,{readOnly:false,attributeMap:a.delegate(b.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(c){a.attr(this.focusNode,"readOnly",c);b.setWaiState(this.focusNode,"readonly",c);this._set("readOnly",c);},postCreate:function(){this.inherited(arguments);if(a.isIE<9||(a.isIE&&a.isQuirks)){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(d,c){this._handleOnChange(d,c);},_handleOnChange:function(d,c){this._set("value",d);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(c){if(c.keyCode==a.keys.ESCAPE&&!(c.ctrlKey||c.altKey||c.metaKey)){var d;if(a.isIE){c.preventDefault();d=document.createEventObject();d.keyCode=a.keys.ESCAPE;d.shiftKey=c.shiftKey;c.srcElement.fireEvent("onkeypress",d);}}},_layoutHackIE7:function(){if(a.isIE==7){var e=this.domNode;var d=e.parentNode;var f=e.firstChild||e;var c=f.style.filter;var h=this;while(d&&d.clientHeight==0){(function g(){var i=h.connect(d,"onscroll",function(j){h.disconnect(i);f.style.filter=(new Date()).getMilliseconds();setTimeout(function(){f.style.filter=c;},0);});})();d=d.parentNode;}}}});return b.form._FormWidget;});