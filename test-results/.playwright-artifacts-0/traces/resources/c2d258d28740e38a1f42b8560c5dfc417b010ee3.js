define("dojo/parser",["dojo","dojo/date/stamp"],function(a){new Date("X");a.parser=new function(){var i=a;function c(d){if(i.isString(d)){return"string";}if(typeof d=="number"){return"number";}if(typeof d=="boolean"){return"boolean";}if(i.isFunction(d)){return"function";}if(i.isArray(d)){return"array";}if(d instanceof Date){return"date";}if(d instanceof i._Url){return"url";}return"object";}function e(j,d){switch(d){case"string":return j;case"number":return j.length?Number(j):NaN;case"boolean":return typeof j=="boolean"?j:!(j.toLowerCase()=="false");case"function":if(i.isFunction(j)){j=j.toString();j=i.trim(j.substring(j.indexOf("{")+1,j.length-1));}try{if(j===""||j.search(/[^\w\.]+/i)!=-1){return new Function(j);}else{return i.getObject(j,false)||new Function(j);}}catch(k){return new Function();}case"array":return j?j.split(/\s*,\s*/):[];case"date":switch(j){case"":return new Date("");case"now":return new Date();default:return i.date.stamp.fromISOString(j);}case"url":return i.baseUrl+j;default:return i.fromJson(j);}}var h={},g={};i.connect(i,"extend",function(){g={};});function b(d,k){for(var j in d){if(j.charAt(0)=="_"){continue;}if(j in h){continue;}k[j]=c(d[j]);}return k;}function f(j,k){var m=g[j];if(!m){var d=i.getObject(j),l=null;if(!d){return null;}if(!k){l=b(d.prototype,{});}m={cls:d,params:l};}else{if(!k&&!m.params){m.params=b(m.cls.prototype,{});}}return m;}this._functionFromScript=function(j,n){var k="";var m="";var d=(j.getAttribute(n+"args")||j.getAttribute("args"));if(d){i.forEach(d.split(/\s*,\s*/),function(p,o){k+="var "+p+" = arguments["+o+"]; ";});}var l=j.getAttribute("with");if(l&&l.length){i.forEach(l.split(/\s*,\s*/),function(o){k+="with("+o+"){";m+="}";});}return new Function(k+j.innerHTML+m);};this.instantiate=function(j,d,l){var k=[],d=d||{};l=l||{};var m=(l.scope||i._scopeName)+"Type",n="data-"+(l.scope||i._scopeName)+"-";i.forEach(j,function(u){if(!u){return;}var y,q,r,A,p,t;if(u.node){y=u.node;q=u.type;t=u.fastpath;r=u.clsInfo||(q&&f(q,t));A=r&&r.cls;p=u.scripts;}else{y=u;q=m in d?d[m]:y.getAttribute(m);r=q&&f(q);A=r&&r.cls;p=(A&&(A._noScript||A.prototype._noScript)?[]:i.query("> script[type^='dojo/']",y));}if(!r){throw new Error("Could not load class '"+q);}var G={};if(l.defaults){i._mixin(G,l.defaults);}if(u.inherited){i._mixin(G,u.inherited);}if(t){var o=y.getAttribute(n+"props");if(o&&o.length){try{o=i.fromJson.call(l.propsThis,"{"+o+"}");i._mixin(G,o);}catch(D){throw new Error(D.toString()+" in data-dojo-props='"+o+"'");}}var z=y.getAttribute(n+"attach-point");if(z){G.dojoAttachPoint=z;}var B=y.getAttribute(n+"attach-event");if(B){G.dojoAttachEvent=B;}a.mixin(G,d);}else{var s=y.attributes;for(var J in r.params){var F=J in d?{value:d[J],specified:true}:s.getNamedItem(J);if(!F||(!F.specified&&(!a.isIE||J.toLowerCase()!="value"))){continue;}var x=F.value;switch(J){case"class":x="className" in d?d.className:y.className;break;case"style":x="style" in d?d.style:(y.style&&y.style.cssText);}var C=r.params[J];if(typeof x=="string"){G[J]=e(x,C);}else{G[J]=x;}}}var I=[],v=[];i.forEach(p,function(K){y.removeChild(K);var M=(K.getAttribute(n+"event")||K.getAttribute("event")),L=K.getAttribute("type"),N=i.parser._functionFromScript(K,n);if(M){if(L=="dojo/connect"){I.push({event:M,func:N});}else{G[M]=N;}}else{v.push(N);}});var w=A.markupFactory||A.prototype&&A.prototype.markupFactory;var E=w?w(G,y,A):new A(G,y);k.push(E);var H=(y.getAttribute(n+"id")||y.getAttribute("jsId"));if(H){i.setObject(H,E);}i.forEach(I,function(K){i.connect(E,K.event,null,K.func);});i.forEach(v,function(K){K.call(E);});});if(!d._started){i.forEach(k,function(o){if(!l.noStart&&o&&a.isFunction(o.startup)&&!o._started&&(!o.getParent||!o.getParent())){o.startup();}});}return k;};this.parse=function(j,m){var o;if(!m&&j&&j.rootNode){m=j;o=m.rootNode;}else{o=j;}o=o?a.byId(o):a.body();m=m||{};var n=(m.scope||i._scopeName)+"Type",d="data-"+(m.scope||i._scopeName)+"-";function r(B,z){var y=a.clone(B.inherited);a.forEach(["dir","lang"],function(C){var D=B.node.getAttribute(C);if(D){y[C]=D;}});var v=B.clsInfo&&!B.clsInfo.cls.prototype._noScript?B.scripts:null;var s=(!B.clsInfo||!B.clsInfo.cls.prototype.stopParser)||(m&&m.template);for(var t=B.node.firstChild;t;t=t.nextSibling){if(t.nodeType==1){var A,x=s&&t.getAttribute(d+"type");if(x){A=x;}else{A=s&&t.getAttribute(n);}var w=x==A;if(A){var u={type:A,fastpath:w,clsInfo:f(A,w),node:t,scripts:[],inherited:y};z.push(u);r(u,z);}else{if(v&&t.nodeName.toLowerCase()=="script"){A=t.getAttribute("type");if(A&&/^dojo\/\w/i.test(A)){v.push(t);}}else{if(s){r({node:t,inherited:y},z);}}}}}}var k={};if(m&&m.inherited){for(var p in m.inherited){if(m.inherited[p]){k[p]=m.inherited[p];}}}var l=[];r({node:o,inherited:k},l);var q=m&&m.template?{template:true}:null;return this.instantiate(l,q,m);};}();(function(){var b=function(){if(a.config.parseOnLoad){a.parser.parse();}};if(a.getObject("dijit.wai.onload")===a._loaders[0]){a._loaders.splice(1,0,b);}else{a._loaders.unshift(b);}})();return a.parser;});