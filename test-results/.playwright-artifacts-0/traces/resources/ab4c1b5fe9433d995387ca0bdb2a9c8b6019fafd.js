dojo.require("dojo._base.declare");dojo.require("dijit.form.NumberSpinner");dojo.require("dojo.parser");dojo.declare("dijit.form.CSEPriceSpinner",dijit.form.NumberSpinner,{board:1,asset:1,marketDetails:"",_arrowPressed:function(nodePressed,direction,increment){var marketData=eval(this.marketDetails);var newInciment=this.smallDelta;for(var i=0;i<marketData.market[0].assets.length;i++){if(marketData.market[0].assets[i].code==this.asset){for(var j=0;j<marketData.market[0].assets[i].boards.length;j++){if(marketData.market[0].assets[i].boards[j].value==this.board){for(var k=0;k<marketData.market[0].assets[i].boards[j].pricemultiplies.length;k++){var startval=eval(marketData.market[0].assets[i].boards[j].pricemultiplies[k].startValue);var endval=marketData.market[0].assets[i].boards[j].pricemultiplies[k].endValue;var multipy=eval(marketData.market[0].assets[i].boards[j].pricemultiplies[k].multiplier);if(direction>0){if(this.get("value")>=startval&&this.get("value")+multipy<=eval(endval)){newInciment=multipy;this.smallDelta=multipy;break;}else{if(this.get("value")>=startval&&endval==""){newInciment=multipy;this.smallDelta=multipy;break;}}}else{if(this.get("value")>=startval&&this.get("value")<=eval(endval)){newInciment=multipy;this.smallDelta=multipy;break;}else{if(this.get("value")>=startval&&endval==""){newInciment=multipy;this.smallDelta=multipy;break;}}}}}}}}if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),direction*newInciment),false);dijit.selectInputText(this.textbox,this.textbox.value.length);}});