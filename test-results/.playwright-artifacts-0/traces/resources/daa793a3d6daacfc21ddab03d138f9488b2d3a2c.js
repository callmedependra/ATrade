define("dijit/form/_FormMixin",["dojo","dijit","dojo/window"],function(a,b){a.declare("dijit.form._FormMixin",null,{state:"",reset:function(){a.forEach(this.getDescendants(),function(c){if(c.reset){c.reset();}});},validate:function(){var c=false;return a.every(a.map(this.getDescendants(),function(e){e._hasBeenBlurred=true;var d=e.disabled||!e.validate||e.validate();if(!d&&!c){a.window.scrollIntoView(e.containerNode||e.domNode);e.focus();c=true;}return d;}),function(d){return d;});},setValues:function(c){a.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",c);},_setValueAttr:function(g){var f={};a.forEach(this.getDescendants(),function(i){if(!i.name){return;}var h=f[i.name]||(f[i.name]=[]);h.push(i);});for(var d in f){if(!f.hasOwnProperty(d)){continue;}var e=f[d],c=a.getObject(d,false,g);if(c===undefined){continue;}if(!a.isArray(c)){c=[c];}if(typeof e[0].checked=="boolean"){a.forEach(e,function(h,j){h.set("value",a.indexOf(c,h.value)!=-1);});}else{if(e[0].multiple){e[0].set("value",c);}else{a.forEach(e,function(h,j){h.set("value",c[j]);});}}}},getValues:function(){a.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var c={};a.forEach(this.getDescendants(),function(h){var d=h.name;if(!d||h.disabled){return;}var g=h.get("value");if(typeof h.checked=="boolean"){if(/Radio/.test(h.declaredClass)){if(g!==false){a.setObject(d,g,c);}else{g=a.getObject(d,false,c);if(g===undefined){a.setObject(d,null,c);}}}else{var e=a.getObject(d,false,c);if(!e){e=[];a.setObject(d,e,c);}if(g!==false){e.push(g);}}}else{var f=a.getObject(d,false,c);if(typeof f!="undefined"){if(a.isArray(f)){f.push(g);}else{a.setObject(d,[f,g],c);}}else{a.setObject(d,g,c);}}});return c;},isValid:function(){return this.state=="";},onValidStateChange:function(c){},_getState:function(){var c=a.map(this._descendants,function(d){return d.get("state")||"";});return a.indexOf(c,"Error")>=0?"Error":a.indexOf(c,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){a.forEach(this._childConnections||[],a.hitch(this,"disconnect"));a.forEach(this._childWatches||[],function(c){c.unwatch();});},connectChildren:function(f){var h=this;this.disconnectChildren();this._descendants=this.getDescendants();var g=f?function(i,j){h[i]=j;}:a.hitch(this,"_set");g("value",this.get("value"));g("state",this._getState());var e=(this._childConnections=[]),d=(this._childWatches=[]);a.forEach(a.filter(this._descendants,function(i){return i.validate;}),function(i){a.forEach(["state","disabled"],function(j){d.push(i.watch(j,function(k,l,m){h.set("state",h._getState());}));});});var c=function(){if(h._onChangeDelayTimer){clearTimeout(h._onChangeDelayTimer);}h._onChangeDelayTimer=setTimeout(function(){delete h._onChangeDelayTimer;h._set("value",h.get("value"));},10);};a.forEach(a.filter(this._descendants,function(i){return i.onChange;}),function(i){e.push(h.connect(i,"onChange",c));d.push(i.watch("disabled",c));});},startup:function(){this.inherited(arguments);this.connectChildren(true);this.watch("state",function(c,d,e){this.onValidStateChange(e=="");});},destroy:function(){this.disconnectChildren();this.inherited(arguments);}});return b.form._FormMixin;});