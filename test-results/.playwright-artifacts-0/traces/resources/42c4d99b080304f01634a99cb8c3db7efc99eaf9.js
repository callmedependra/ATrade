define("dijit/form/_Spinner",["dojo","dijit","text!dijit/form/templates/Spinner.html","dijit/form/ValidationTextBox"],function(a,b){a.declare("dijit.form._Spinner",b.form.RangeBoundTextBox,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:a.cache("dijit.form","templates/Spinner.html"),baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},adjust:function(c,d){return c;},_arrowPressed:function(d,e,c){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),e*c),false);b.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(c){this._wheelTimer=null;if(this.disabled||this.readOnly){return;}},_typematicCallback:function(g,f,c){var h=this.smallDelta;if(f==this.textbox){var d=a.keys;var e=c.charOrCode;h=(e==d.PAGE_UP||e==d.PAGE_DOWN)?this.largeDelta:this.smallDelta;f=(e==d.UP_ARROW||e==d.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(g==-1){this._arrowReleased(f);}else{this._arrowPressed(f,(f==this.upArrowNode)?1:-1,h);}},_wheelTimer:null,_mouseWheeled:function(c){a.stopEvent(c);var e=c.detail?(c.detail*-1):(c.wheelDelta/120);if(e!==0){var d=this[(e>0?"upArrowNode":"downArrowNode")];this._arrowPressed(d,e,this.smallDelta);if(!this._wheelTimer){clearTimeout(this._wheelTimer);}this._wheelTimer=setTimeout(a.hitch(this,"_arrowReleased",d),50);}},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,!a.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");this._connects.push(b.typematic.addListener(this.upArrowNode,this.textbox,{charOrCode:a.keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(b.typematic.addListener(this.downArrowNode,this.textbox,{charOrCode:a.keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(b.typematic.addListener(this.upArrowNode,this.textbox,{charOrCode:a.keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(b.typematic.addListener(this.downArrowNode,this.textbox,{charOrCode:a.keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});return b.form._Spinner;});