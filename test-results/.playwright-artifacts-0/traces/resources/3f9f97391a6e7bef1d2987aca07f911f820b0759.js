define("dojo/html",["dojo","dojo/parser"],function(a){a.getObject("html",true,a);(function(){var b=0,c=a;a.html._secureForInnerHtml=function(d){return d.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};a.html._emptyNode=a.empty;a.html._setNodeContent=function(f,d){c.empty(f);if(d){if(typeof d=="string"){d=c._toDom(d,f.ownerDocument);}if(!d.nodeType&&c.isArrayLike(d)){for(var g=d.length,e=0;e<d.length;e=g==d.length?e+1:0){c.place(d[e],f,"last");}}else{c.place(d,f,"last");}}return f;};a.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:a._scopeName,startup:true,constructor:function(e,d){a.mixin(this,e||{});d=this.node=a.byId(this.node||d);if(!this.id){this.id=["Setter",(d)?d.id||d.tagName:"",b++].join("_");}},set:function(d,e){if(undefined!==d){this.content=d;}if(e){this._mixin(e);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var d=this.node;if(!d){throw new Error(this.declaredClass+": setContent given no node");}try{d=a.html._setNodeContent(d,this.content);}catch(g){var f=this.onContentError(g);try{d.innerHTML=f;}catch(g){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+g.message,g);}}this.node=d;},empty:function(){if(this.parseResults&&this.parseResults.length){a.forEach(this.parseResults,function(d){if(d.destroy){d.destroy();}});delete this.parseResults;}a.html._emptyNode(this.node);},onBegin:function(){var d=this.content;if(a.isString(d)){if(this.cleanContent){d=a.html._secureForInnerHtml(d);}if(this.extractContent){var e=d.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(e){d=e[1];}}}this.empty();this.content=d;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(d){return"Error occured setting content: "+d;},_mixin:function(f){var e={},d;for(d in f){if(d in e){continue;}this[d]=f[d];}},_parse:function(){var f=this.node;try{var d={};a.forEach(["dir","lang","textDir"],function(e){if(this[e]){d[e]=this[e];}},this);this.parseResults=a.parser.parse({rootNode:f,noStart:!this.startup,inherited:d,scope:this.parserScope});}catch(g){this._onError("Content",g,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(e,g,d){var f=this["on"+e+"Error"].call(this,g);if(d){console.error(d,g);}else{if(f){a.html._setNodeContent(this.node,f,true);}}}});a.html.set=function(e,d,f){if(undefined==d){console.warn("dojo.html.set: no cont argument provided, using empty string");d="";}if(!f){return a.html._setNodeContent(e,d,true);}else{var g=new a.html._ContentSetter(a.mixin(f,{content:d,node:e}));return g.set();}};})();return a.html;});