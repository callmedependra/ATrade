define("dijit/form/HorizontalSlider",["dojo","dijit","text!dijit/form/templates/HorizontalSlider.html","dijit/form/_FormWidget","dijit/_Container","dojo/dnd/move","dijit/form/Button","dojo/number"],function(a,b){a.declare("dijit.form.HorizontalSlider",[b.form._FormValueWidget,b._Container],{templateString:a.cache("dijit.form","templates/HorizontalSlider.html"),value:0,showButtons:true,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:b.defaultDuration,widgetsInTemplate:true,attributeMap:a.delegate(b.form._FormWidget.prototype.attributeMap,{id:""}),baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_startingPixelCount:"l",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(c){if(this.disabled||this.readOnly||c.altKey||c.ctrlKey||c.metaKey){return;}this._setValueAttr(this.value,true);},_onKeyPress:function(c){if(this.disabled||this.readOnly||c.altKey||c.ctrlKey||c.metaKey){return;}switch(c.charOrCode){case a.keys.HOME:this._setValueAttr(this.minimum,false);break;case a.keys.END:this._setValueAttr(this.maximum,false);break;case ((this._descending||this.isLeftToRight())?a.keys.RIGHT_ARROW:a.keys.LEFT_ARROW):case (this._descending===false?a.keys.DOWN_ARROW:a.keys.UP_ARROW):case (this._descending===false?a.keys.PAGE_DOWN:a.keys.PAGE_UP):this.increment(c);break;case ((this._descending||this.isLeftToRight())?a.keys.LEFT_ARROW:a.keys.RIGHT_ARROW):case (this._descending===false?a.keys.UP_ARROW:a.keys.DOWN_ARROW):case (this._descending===false?a.keys.PAGE_UP:a.keys.PAGE_DOWN):this.decrement(c);break;default:return;}a.stopEvent(c);},_onHandleClick:function(c){if(this.disabled||this.readOnly){return;}if(!a.isIE){b.focus(this.sliderHandle);}a.stopEvent(c);},_isReversed:function(){return !this.isLeftToRight();},_onBarClick:function(f){if(this.disabled||this.readOnly||!this.clickSelect){return;}b.focus(this.sliderHandle);a.stopEvent(f);var d=a.position(this.sliderBarContainer,true);var c=f[this._mousePixelCoord]-d[this._startingPixelCoord];this._setPixelValue(this._isReversed()?(d[this._pixelCount]-c):c,d[this._pixelCount],true);this._movable.onMouseDown(f);},_setPixelValue:function(d,f,h){if(this.disabled||this.readOnly){return;}d=d<0?0:f<d?f:d;var g=this.discreteValues;if(g<=1||g==Infinity){g=f;}g--;var c=f/g;var e=Math.round(d/c);this._setValueAttr((this.maximum-this.minimum)*e/g+this.minimum,h);},_setValueAttr:function(j,k){this._set("value",j);this.valueNode.value=j;b.setWaiState(this.focusNode,"valuenow",j);this.inherited(arguments);var h=(j-this.minimum)/(this.maximum-this.minimum);var f=(this._descending===false)?this.remainingBar:this.progressBar;var e=(this._descending===false)?this.progressBar:this.remainingBar;if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}if(k&&this.slideDuration>0&&f.style[this._progressPixelSize]){var g=this;var i={};var c=parseFloat(f.style[this._progressPixelSize]);var d=this.slideDuration*(h-c/100);if(d==0){return;}if(d<0){d=0-d;}i[this._progressPixelSize]={start:c,end:h*100,units:"%"};this._inProgressAnim=a.animateProperty({node:f,duration:d,onAnimate:function(l){e.style[g._progressPixelSize]=(100-parseFloat(l[g._progressPixelSize]))+"%";},onEnd:function(){delete g._inProgressAnim;},properties:i});this._inProgressAnim.play();}else{f.style[this._progressPixelSize]=(h*100)+"%";e.style[this._progressPixelSize]=((1-h)*100)+"%";}},_bumpValue:function(h,f){if(this.disabled||this.readOnly){return;}var d=a.getComputedStyle(this.sliderBarContainer);var i=a._getContentBox(this.sliderBarContainer,d);var e=this.discreteValues;if(e<=1||e==Infinity){e=i[this._pixelCount];}e--;var g=(this.value-this.minimum)*e/(this.maximum-this.minimum)+h;if(g<0){g=0;}if(g>e){g=e;}g=g*(this.maximum-this.minimum)/e+this.minimum;this._setValueAttr(g,f);},_onClkBumper:function(c){if(this.disabled||this.readOnly||!this.clickSelect){return;}this._setValueAttr(c,true);},_onClkIncBumper:function(){this._onClkBumper(this._descending===false?this.minimum:this.maximum);},_onClkDecBumper:function(){this._onClkBumper(this._descending===false?this.maximum:this.minimum);},decrement:function(c){this._bumpValue(c.charOrCode==a.keys.PAGE_DOWN?-this.pageIncrement:-1);},increment:function(c){this._bumpValue(c.charOrCode==a.keys.PAGE_UP?this.pageIncrement:1);},_mouseWheeled:function(d){a.stopEvent(d);var e=!a.isMozilla;var c=d[(e?"wheelDelta":"detail")]*(e?1:-1);this._bumpValue(c<0?-1:1,true);},startup:function(){if(this._started){return;}a.forEach(this.getChildren(),function(c){if(this[c.container]!=this.containerNode){this[c.container].appendChild(c.domNode);}},this);this.inherited(arguments);},_typematicCallback:function(d,c,f){if(d==-1){this._setValueAttr(this.value,true);}else{this[(c==(this._descending?this.incrementButton:this.decrementButton))?"decrement":"increment"](f);}},buildRendering:function(){this.inherited(arguments);if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display="";}var c=a.query('label[for="'+this.id+'"]');if(c.length){c[0].id=(this.id+"_label");b.setWaiState(this.focusNode,"labelledby",c[0].id);}b.setWaiState(this.focusNode,"valuemin",this.minimum);b.setWaiState(this.focusNode,"valuemax",this.maximum);},postCreate:function(){this.inherited(arguments);if(this.showButtons){this._connects.push(b.typematic.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500));this._connects.push(b.typematic.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));}this.connect(this.domNode,!a.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var c=a.declare(b.form._SliderMover,{widget:this});this._movable=new a.dnd.Moveable(this.sliderHandle,{mover:c});this._layoutHackIE7();},destroy:function(){this._movable.destroy();if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}this._supportingWidgets=b.findWidgets(this.domNode);this.inherited(arguments);}});a.declare("dijit.form._SliderMover",a.dnd.Mover,{onMouseMove:function(h){var g=this.widget;var f=g._abspos;if(!f){f=g._abspos=a.position(g.sliderBarContainer,true);g._setPixelValue_=a.hitch(g,"_setPixelValue");g._isReversed_=g._isReversed();}var d=h.touches?h.touches[0]:h,c=d[g._mousePixelCoord]-f[g._startingPixelCoord];g._setPixelValue_(g._isReversed_?(f[g._pixelCount]-c):c,f[g._pixelCount],false);},destroy:function(d){a.dnd.Mover.prototype.destroy.apply(this,arguments);var c=this.widget;c._abspos=null;c._setValueAttr(c.value,true);}});return b.form.HorizontalSlider;});