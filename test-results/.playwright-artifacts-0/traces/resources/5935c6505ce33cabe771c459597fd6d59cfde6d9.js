if(!dojo._hasResource["dijit.layout.BorderContainer"]){dojo._hasResource["dijit.layout.BorderContainer"]=true;dojo.provide("dijit.layout.BorderContainer");dojo.require("dijit.layout._LayoutWidget");dojo.require("dojo.cookie");dojo.require("dijit._Templated");dojo.declare("dijit.layout.BorderContainer",dijit.layout._LayoutWidget,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(e){var d=e.region;if(d){this.inherited(arguments);dojo.addClass(e.domNode,this.baseClass+"Pane");var c=this.isLeftToRight();if(d=="leading"){d=c?"left":"right";}if(d=="trailing"){d=c?"right":"left";}if(d!="center"&&(e.splitter||this.gutters)&&!e._splitterWidget){var b=dojo.getObject(e.splitter?this._splitterClass:"dijit.layout._Gutter");var a=new b({id:e.id+"_splitter",container:this,child:e,region:d,live:this.liveSplitters});a.isSplitter=true;e._splitterWidget=a;dojo.place(a.domNode,e.domNode,"after");a.startup();}e.region=d;}},layout:function(){this._layoutChildren();},addChild:function(b,a){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(b){var a=b.region;var c=b._splitterWidget;if(c){c.destroy();delete b._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}dojo.removeClass(b.domNode,this.baseClass+"Pane");dojo.style(b.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});dojo.style(b.domNode,a=="top"||a=="bottom"?"width":"height","auto");},getChildren:function(){return dojo.filter(this.inherited(arguments),function(a){return !a.isSplitter;});},getSplitter:function(a){return dojo.filter(this.getChildren(),function(b){return b.region==a;})[0]._splitterWidget;},resize:function(a,c){if(!this.cs||!this.pe){var b=this.domNode;this.cs=dojo.getComputedStyle(b);this.pe=dojo._getPadExtents(b,this.cs);this.pe.r=dojo._toPixelValue(b,this.cs.paddingRight);this.pe.b=dojo._toPixelValue(b,this.cs.paddingBottom);dojo.style(b,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(e,d){if(!this._borderBox||!this._borderBox.h){return;}var b=dojo.map(this.getChildren(),function(g,f){return{pane:g,weight:[g.region=="center"?Infinity:0,g.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(g.region)?1:-1),f]};},this);b.sort(function(g,f){var j=g.weight,k=f.weight;for(var h=0;h<j.length;h++){if(j[h]!=k[h]){return j[h]-k[h];}}return 0;});var a=[];dojo.forEach(b,function(g){var f=g.pane;a.push(f);if(f._splitterWidget){a.push(f._splitterWidget);}});var c={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};dijit.layout.layoutChildren(this.domNode,c,a,e,d);},destroyRecursive:function(){dojo.forEach(this.getChildren(),function(b){var a=b._splitterWidget;if(a){a.destroy();}delete b._splitterWidget;});this.inherited(arguments);}});dojo.extend(dijit._Widget,{region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity});dojo.declare("dijit.layout._Splitter",[dijit._Widget,dijit._Templated],{live:true,templateString:'<div class="dijitSplitter" dojoAttachEvent="onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex="0" role="separator"><div class="dijitSplitterThumb"></div></div>',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=dojo.cookie(this._cookieName);if(a){this.child.domNode.style[this.horizontal?"height":"width"]=a;}}},_computeMaxSize:function(){var d=this.horizontal?"h":"w",c=dojo.marginBox(this.child.domNode)[d],b=dojo.filter(this.container.getChildren(),function(e){return e.region=="center";})[0],a=dojo.marginBox(b.domNode)[d];return Math.min(this.child.maxSize,c+a);},_startDrag:function(i){if(!this.cover){this.cover=dojo.doc.createElement("div");dojo.addClass(this.cover,"dijitSplitterCover");dojo.place(this.cover,this.child.domNode,"after");}dojo.addClass(this.cover,"dijitSplitterCoverActive");if(this.fake){dojo.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");dojo.addClass(this.domNode,"dijitSplitterShadow");dojo.place(this.fake,this.domNode,"after");}dojo.addClass(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){dojo.removeClass(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var f=this._factor,d=this.horizontal,c=d?"pageY":"pageX",b=i[c],a=this.domNode.style,h=d?"h":"w",q=dojo.marginBox(this.child.domNode)[h],j=this._computeMaxSize(),g=this.child.minSize||20,p=this.region,o=p=="top"||p=="bottom"?"top":"left",n=parseInt(a[o],10),m=this._resize,k=dojo.hitch(this.container,"_layoutChildren",this.child.id),l=dojo.doc;this._handlers=(this._handlers||[]).concat([dojo.connect(l,"onmousemove",this._drag=function(v,u){var t=v[c]-b,s=f*t+q,r=Math.max(Math.min(s,j),g);if(m||u){k(r);}a[o]=t+n+f*(r-s)+"px";}),dojo.connect(l,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent),dojo.connect(l,"onmouseup",this,"_stopDrag")]);dojo.stopEvent(i);},_onMouse:function(a){var b=(a.type=="mouseover"||a.type=="mouseenter");dojo.toggleClass(this.domNode,"dijitSplitterHover",b);dojo.toggleClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",b);},_stopDrag:function(a){try{if(this.cover){dojo.removeClass(this.cover,"dijitSplitterCoverActive");}if(this.fake){dojo.destroy(this.fake);}dojo.removeClass(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(a);this._drag(a,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){dojo.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){dojo.forEach(this._handlers,dojo.disconnect);delete this._handlers;},_onKeyPress:function(f){this._resize=true;var c=this.horizontal;var a=1;var d=dojo.keys;switch(f.charOrCode){case c?d.UP_ARROW:d.LEFT_ARROW:a*=-1;case c?d.DOWN_ARROW:d.RIGHT_ARROW:break;default:return;}var b=dojo._getMarginSize(this.child.domNode)[c?"h":"w"]+this._factor*a;this.container._layoutChildren(this.child.id,Math.max(Math.min(b,this._computeMaxSize()),this.child.minSize));dojo.stopEvent(f);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});dojo.declare("dijit.layout._Gutter",[dijit._Widget,dijit._Templated],{templateString:'<div class="dijitGutter" role="presentation"></div>',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});}