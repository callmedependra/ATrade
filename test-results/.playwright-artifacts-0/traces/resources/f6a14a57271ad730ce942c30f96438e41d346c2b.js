define("dijit/_WidgetBase",["dojo","dijit","dijit/_base/manager","dojo/Stateful"],function(a,b){(function(){a.declare("dijit._WidgetBase",a.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(a.config.blankGif||a.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(d,c){this.create(d,c);},create:function(e,c){this.srcNodeRef=a.byId(c);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(e){this.params=e;a._mixin(this,e);}this.postMixInProperties();if(!this.id){this.id=b.getUniqueId(this.declaredClass.replace(/\./g,"_"));}b.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;if(d&&d.parentNode&&this.domNode!==d){d.parentNode.replaceChild(this.domNode,d);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var d=function(e,f){if((f.params&&e in f.params)||f[e]){f.set(e,f[e]);}};for(var c in this.attributeMap){d(c,this);}a.forEach(this._getSetterAttributes(),function(e){if(!(e in this.attributeMap)){d(e,this);}},this);},_getSetterAttributes:function(){var g=this.constructor;if(!g._setterAttrs){var f=(g._setterAttrs=[]),c,e=g.prototype;for(var d in e){if(a.isFunction(e[d])&&(c=d.match(/^_set([a-zA-Z]*)Attr$/))&&c[1]){f.push(c[1].charAt(0).toLowerCase()+c[1].substr(1));}}}return g._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||a.create("div");}if(this.baseClass){var c=this.baseClass.split(" ");if(!this.isLeftToRight()){c=c.concat(a.map(c,function(d){return d+"Rtl";}));}a.addClass(this.domNode,c);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(c){this._beingDestroyed=true;this.destroyDescendants(c);this.destroy(c);},destroy:function(c){this._beingDestroyed=true;this.uninitialize();var f=a,g=f.forEach,e=f.unsubscribe;g(this._connects,function(d){g(d,f.disconnect);});g(this._subscribes,function(d){e(d);});g(this._supportingWidgets||[],function(d){if(d.destroyRecursive){d.destroyRecursive();}else{if(d.destroy){d.destroy();}}});this.destroyRendering(c);b.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(c){if(this.bgIframe){this.bgIframe.destroy(c);delete this.bgIframe;}if(this.domNode){if(c){a.removeAttr(this.domNode,"widgetId");}else{a.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!c){a.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(c){a.forEach(this.getChildren(),function(d){if(d.destroyRecursive){d.destroyRecursive(c);}});},uninitialize:function(){return false;},_setClassAttr:function(c){var d=this[this.attributeMap["class"]||"domNode"];a.replaceClass(d,c,this["class"]);this._set("class",c);},_setStyleAttr:function(c){var d=this[this.attributeMap.style||"domNode"];if(a.isObject(c)){a.style(d,c);}else{if(d.style.cssText){d.style.cssText+="; "+c;}else{d.style.cssText=c;}}this._set("style",c);},_attrToDom:function(d,e){var c=this.attributeMap[d];a.forEach(a.isArray(c)?c:[c],function(i){var h=this[i.node||i||"domNode"];var g=i.type||"attribute";switch(g){case"attribute":if(a.isFunction(e)){e=a.hitch(this,e);}var f=i.attribute?i.attribute:(/^on[A-Z][a-zA-Z]*$/.test(d)?d.toLowerCase():d);a.attr(h,f,e);break;case"innerText":h.innerHTML="";h.appendChild(a.doc.createTextNode(e));break;case"innerHTML":h.innerHTML=e;break;case"class":a.replaceClass(h,e,this[d]);break;}},this);},get:function(c){var d=this._getAttrNames(c);return this[d.g]?this[d.g]():this[c];},set:function(e,f){if(typeof e==="object"){for(var d in e){this.set(d,e[d]);}return this;}var g=this._getAttrNames(e);if(this[g.s]){var c=this[g.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(e in this.attributeMap){this._attrToDom(e,f);}this._set(e,f);}return c||this;},_attrPairNames:{},_getAttrNames:function(e){var c=this._attrPairNames;if(c[e]){return c[e];}var d=e.charAt(0).toUpperCase()+e.substr(1);return(c[e]={n:e+"Node",s:"_set"+d+"Attr",g:"_get"+d+"Attr"});},_set:function(d,e){var c=this[d];this[d]=e;if(this._watchCallbacks&&this._created&&e!==c){this._watchCallbacks(d,c,e);}},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?a.query("[widgetId]",this.containerNode).map(b.byNode):[];},getChildren:function(){return this.containerNode?b.findWidgets(this.containerNode):[];},connect:function(e,d,f){var c=[a._connect(e,d,this,f)];this._connects.push(c);return c;},disconnect:function(d){for(var c=0;c<this._connects.length;c++){if(this._connects[c]==d){a.forEach(d,a.disconnect);this._connects.splice(c,1);return;}}},subscribe:function(c,e){var d=a.subscribe(c,this,e);this._subscribes.push(d);return d;},unsubscribe:function(d){for(var c=0;c<this._subscribes.length;c++){if(this._subscribes[c]==d){a.unsubscribe(d);this._subscribes.splice(c,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):a._isBodyLtr();},placeAt:function(d,c){if(d.declaredClass&&d.addChild){d.addChild(this,c);}else{a.place(this.domNode,d,c);}return this;}});})();return b._WidgetBase;});