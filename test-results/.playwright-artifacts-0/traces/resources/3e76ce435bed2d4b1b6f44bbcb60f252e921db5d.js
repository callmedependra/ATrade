define("dijit/Tooltip",["dojo","dijit","dijit/_Widget","dijit/_Templated"],function(a,b){a.declare("dijit._MasterTooltip",[b._Widget,b._Templated],{duration:b.defaultDuration,templateString:a.cache("dijit","templates/Tooltip.html"),postCreate:function(){a.body().appendChild(this.domNode);this.bgIframe=new b.BackgroundIframe(this.domNode);this.fadeIn=a.fadeIn({node:this.domNode,duration:this.duration,onEnd:a.hitch(this,"_onShow")});this.fadeOut=a.fadeOut({node:this.domNode,duration:this.duration,onEnd:a.hitch(this,"_onHide")});},show:function(g,d,c,e){if(this.aroundNode&&this.aroundNode===d){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=g;var f=b.placeOnScreenAroundElement(this.domNode,d,b.getPopupAroundAlignment((c&&c.length)?c:b.Tooltip.defaultPosition,!e),a.hitch(this,"orient"));a.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=d;},orient:function(e,k,n,d,f){this.connectorNode.style.top="";var m=d.w-this.connectorNode.offsetWidth;e.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[k+"-"+n];this.domNode.style.width="auto";var o=a.contentBox(this.domNode);var c=Math.min((Math.max(m,1)),o.w);var h=c<o.w;this.domNode.style.width=c+"px";if(h){this.containerNode.style.overflow="auto";var j=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(j>c){j=j+a.style(this.domNode,"paddingLeft")+a.style(this.domNode,"paddingRight");this.domNode.style.width=j+"px";}}if(n.charAt(0)=="B"&&k.charAt(0)=="B"){var l=a.marginBox(e);var g=this.connectorNode.offsetHeight;if(l.h>d.h){var i=d.h-(f.h/2)-(g/2);this.connectorNode.style.top=i+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(f.h/2-g/2,0),l.h-g)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,o.w-m);},_onShow:function(){if(a.isIE){this.domNode.style.filter="";}},hide:function(c){if(this._onDeck&&this._onDeck[1]==c){this._onDeck=null;}else{if(this.aroundNode===c){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});b.showTooltip=function(f,d,c,e){if(!b._masterTT){b._masterTT=new b._MasterTooltip();}return b._masterTT.show(f,d,c,e);};b.hideTooltip=function(c){if(!b._masterTT){b._masterTT=new b._MasterTooltip();}return b._masterTT.hide(c);};a.declare("dijit.Tooltip",b._Widget,{label:"",showDelay:0,connectId:[],position:[],_setConnectIdAttr:function(c){a.forEach(this._connections||[],function(e){a.forEach(e,a.hitch(this,"disconnect"));},this);var d=a.isArrayLike(c)?c:(c?[c]:[]);this._connections=a.map(d,function(f){var e=a.byId(f);return e?[this.connect(e,"onmouseenter","_onTargetMouseEnter"),this.connect(e,"onmouseleave","_onTargetMouseLeave"),this.connect(e,"onfocus","_onTargetFocus"),this.connect(e,"onblur","_onTargetBlur")]:[];},this);this._set("connectId",c);this._connectIds=d;},addTarget:function(c){var d=c.id||c;if(a.indexOf(this._connectIds,d)==-1){this.set("connectId",this._connectIds.concat(d));}},removeTarget:function(d){var e=d.id||d,c=a.indexOf(this._connectIds,e);if(c>=0){this._connectIds.splice(c,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);a.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var c=this.connectId;a.forEach(a.isArrayLike(c)?c:[c],this.addTarget,this);},_onTargetMouseEnter:function(c){this._onHover(c);},_onTargetMouseLeave:function(c){this._onUnHover(c);},_onTargetFocus:function(c){this._focus=true;this._onHover(c);},_onTargetBlur:function(c){this._focus=false;this._onUnHover(c);},_onHover:function(d){if(!this._showTimer){var c=d.target;this._showTimer=setTimeout(a.hitch(this,function(){this.open(c);}),this.showDelay);}},_onUnHover:function(c){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(c){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}b.showTooltip(this.label||this.domNode.innerHTML,c,this.position,!this.isLeftToRight());this._connectNode=c;this.onShow(c,this.position);},close:function(){if(this._connectNode){b.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(d,c){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});b.Tooltip.defaultPosition=["after","before"];return b.Tooltip;});