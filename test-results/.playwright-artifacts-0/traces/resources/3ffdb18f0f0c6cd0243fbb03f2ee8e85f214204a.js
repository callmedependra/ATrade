define("dijit/_base/place",["dojo","dijit","dojo/window","dojo/AdapterRegistry"],function(a,b){b.getViewport=function(){return a.window.getBox();};b.placeOnScreen=function(d,g,c,e){var f=a.map(c,function(h){var i={corner:h,pos:{x:g.x,y:g.y}};if(e){i.pos.x+=h.charAt(1)=="L"?e.x:-e.x;i.pos.y+=h.charAt(0)=="T"?e.y:-e.y;}return i;});return b._place(d,f);};b._place=function(g,j,f,i){var d=a.window.getBox();if(!g.parentNode||String(g.parentNode.tagName).toLowerCase()!="body"){a.body().appendChild(g);}var h=null;a.some(j,function(o){var w=o.corner;var u=o.pos;var n=0;var m={w:w.charAt(1)=="L"?(d.l+d.w)-u.x:u.x-d.l,h:w.charAt(1)=="T"?(d.t+d.h)-u.y:u.y-d.t};if(f){var r=f(g,o.aroundCorner,w,m,i);n=typeof r=="undefined"?0:r;}var k=g.style;var s=k.display;var t=k.visibility;k.visibility="hidden";k.display="";var v=a.marginBox(g);k.display=s;k.visibility=t;var q=Math.max(d.l,w.charAt(1)=="L"?u.x:(u.x-v.w)),p=Math.max(d.t,w.charAt(0)=="T"?u.y:(u.y-v.h)),z=Math.min(d.l+d.w,w.charAt(1)=="L"?(q+v.w):u.x),y=Math.min(d.t+d.h,w.charAt(0)=="T"?(p+v.h):u.y),l=z-q,x=y-p;n+=(v.w-l)+(v.h-x);if(h==null||n<h.overflow){h={corner:w,aroundCorner:o.aroundCorner,x:q,y:p,w:l,h:x,overflow:n,spaceAvailable:m};}return !n;});if(h.overflow&&f){f(g,h.aroundCorner,h.corner,h.spaceAvailable,i);}var c=a._isBodyLtr(),e=g.style;e.top=h.y+"px";e[c?"left":"right"]=(c?h.x:d.w-h.x-h.w)+"px";return h;};b.placeOnScreenAroundNode=function(e,c,g,d){c=a.byId(c);var f=a.position(c,true);return b._placeOnScreenAroundRect(e,f.x,f.y,f.w,f.h,g,d);};b.placeOnScreenAroundRectangle=function(e,c,f,d){return b._placeOnScreenAroundRect(e,c.x,c.y,c.width,c.height,f,d);};b._placeOnScreenAroundRect=function(e,i,h,d,j,g,f){var k=[];for(var c in g){k.push({aroundCorner:c,corner:g[c],pos:{x:i+(c.charAt(1)=="L"?0:d),y:h+(c.charAt(0)=="T"?0:j)}});}return b._place(e,k,f,{w:d,h:j});};b.placementRegistry=new a.AdapterRegistry();b.placementRegistry.register("node",function(d,c){return typeof c=="object"&&typeof c.offsetWidth!="undefined"&&typeof c.offsetHeight!="undefined";},b.placeOnScreenAroundNode);b.placementRegistry.register("rect",function(d,c){return typeof c=="object"&&"x" in c&&"y" in c&&"width" in c&&"height" in c;},b.placeOnScreenAroundRectangle);b.placeOnScreenAroundElement=function(e,c,f,d){return b.placementRegistry.match.apply(b.placementRegistry,arguments);};b.getPopupAroundAlignment=function(c,d){var e={};a.forEach(c,function(f){switch(f){case"after":e[d?"BR":"BL"]=d?"BL":"BR";break;case"before":e[d?"BL":"BR"]=d?"BR":"BL";break;case"below-alt":d=!d;case"below":e[d?"BL":"BR"]=d?"TL":"TR";e[d?"BR":"BL"]=d?"TR":"TL";break;case"above-alt":d=!d;case"above":default:e[d?"TL":"TR"]=d?"BL":"BR";e[d?"TR":"TL"]=d?"BR":"BL";break;}});return e;};return b;});