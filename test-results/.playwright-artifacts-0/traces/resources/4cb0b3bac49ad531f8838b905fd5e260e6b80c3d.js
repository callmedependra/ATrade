dojo.provide("dojox.layout.ScrollPane");dojo.experimental("dojox.layout.ScrollPane");dojo.require("dijit.layout.ContentPane");dojo.require("dijit._Templated");dojo.declare("dojox.layout.ScrollPane",[dijit.layout.ContentPane,dijit._Templated],{_line:null,_lo:null,_offset:15,orientation:"vertical",autoHide:true,templateString:dojo.cache("dojox.layout","resources/ScrollPane.html"),resize:function(e){if(e){if(e.h){dojo.style(this.domNode,"height",e.h+"px");}if(e.w){dojo.style(this.domNode,"width",e.w+"px");}}var d=this._dir,a=this._vertical,h=this.containerNode[(a?"scrollHeight":"scrollWidth")];dojo.style(this.wrapper,this._dir,this.domNode.style[this._dir]);this._lo=dojo.coords(this.wrapper,true);this._size=Math.max(0,h-this._lo[(a?"h":"w")]);if(!this._size){this.helper.style.display="none";this.wrapper[this._scroll]=0;return;}else{this.helper.style.display="";}this._line=new dojo._Line(0-this._offset,this._size+(this._offset*2));var b=this._lo[(a?"h":"w")],g=Math.min(1,b/h),f=b*g,i=Math.floor(b-(b*g));this._helpLine=new dojo._Line(0,i);dojo.style(this.helper,d,Math.floor(f)+"px");},postCreate:function(){this.inherited(arguments);if(this.autoHide){this._showAnim=dojo._fade({node:this.helper,end:0.5,duration:350});this._hideAnim=dojo.fadeOut({node:this.helper,duration:750});}this._vertical=(this.orientation=="vertical");if(!this._vertical){dojo.addClass(this.containerNode,"dijitInline");this._dir="width";this._edge="left";this._scroll="scrollLeft";}else{this._dir="height";this._edge="top";this._scroll="scrollTop";}if(this._hideAnim){this._hideAnim.play();}dojo.style(this.wrapper,"overflow","hidden");},_set:function(a){if(!this._size){return;}this.wrapper[this._scroll]=Math.floor(this._line.getValue(a));dojo.style(this.helper,this._edge,Math.floor(this._helpLine.getValue(a))+"px");},_calc:function(a){if(!this._lo){this.resize();}this._set(this._vertical?((a.pageY-this._lo.y)/this._lo.h):((a.pageX-this._lo.x)/this._lo.w));},_enter:function(a){if(this._hideAnim){if(this._hideAnim.status()=="playing"){this._hideAnim.stop();}this._showAnim.play();}},_leave:function(a){if(this._hideAnim){this._hideAnim.play();}}});