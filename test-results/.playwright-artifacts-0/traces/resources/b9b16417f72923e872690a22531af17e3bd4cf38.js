define("dijit/_KeyNavContainer",["dojo","dijit","dijit/_Container"],function(a,b){a.declare("dijit._KeyNavContainer",b._Container,{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(c,g){var d=(this._keyNavCodes={});var f=a.hitch(this,this.focusPrev);var e=a.hitch(this,this.focusNext);a.forEach(c,function(h){d[h]=f;});a.forEach(g,function(h){d[h]=e;});d[a.keys.HOME]=a.hitch(this,"focusFirstChild");d[a.keys.END]=a.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){a.forEach(this.getChildren(),a.hitch(this,"_startupChild"));},addChild:function(d,c){b._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(d);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){var c=this._getFirstFocusableChild();if(c){this.focusChild(c);}},focusLastChild:function(){var c=this._getLastFocusableChild();if(c){this.focusChild(c);}},focusNext:function(){var c=this._getNextFocusableChild(this.focusedChild,1);this.focusChild(c);},focusPrev:function(){var c=this._getNextFocusableChild(this.focusedChild,-1);this.focusChild(c,true);},focusChild:function(d,c){if(this.focusedChild&&d!==this.focusedChild){this._onChildBlur(this.focusedChild);}d.set("tabIndex",this.tabIndex);d.focus(c?"end":"start");this._set("focusedChild",d);},_startupChild:function(c){c.set("tabIndex","-1");this.connect(c,"_onFocus",function(){c.set("tabIndex",this.tabIndex);});this.connect(c,"_onBlur",function(){c.set("tabIndex","-1");});},_onContainerFocus:function(c){if(c.target!==this.domNode){return;}this.focusFirstChild();a.attr(this.domNode,"tabIndex","-1");},_onBlur:function(c){if(this.tabIndex){a.attr(this.domNode,"tabIndex",this.tabIndex);}this.inherited(arguments);},_onContainerKeypress:function(c){if(c.ctrlKey||c.altKey){return;}var d=this._keyNavCodes[c.charOrCode];if(d){d();a.stopEvent(c);}},_onChildBlur:function(c){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(f,c){if(f){f=this._getSiblingOfChild(f,c);}var e=this.getChildren();for(var d=0;d<e.length;d++){if(!f){f=e[(c>0)?0:(e.length-1)];}if(f.isFocusable()){return f;}f=this._getSiblingOfChild(f,c);}return null;}});return b._KeyNavContainer;});